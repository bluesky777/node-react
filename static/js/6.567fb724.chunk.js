(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{239:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return T}));var a=n(91),c=n.n(a),r=n(92),i=n(8),o=n(1),s=n(0),l=n.n(s),u=n(244),j=n(232),d=n(230),h=n(245),b=n(246),x=n(243),f=n(234),O=n(163),p=n.n(O),g=n(165),m=n.n(g),v=n(64),w=n(18),y=(n(77),function(e){return{create:function(){return e.get("/noticias/create")},get:function(t,n,a){return e.get("/noticias?query=".concat(t,"&page=").concat(n,"&limit=").concat(a))},find:function(t){return e.get("/noticias/find",{noticia_id:t})},remove:function(){return e.get("/noticias/remove")}}}),k=n(251),q=n(222),C=n(223),S=n(252),A=n(225),R=n(226),E=n(224),J=n(228),L=n(229),M=n(151),P=n(161),W=n.n(P),_=n(227),z=n(5),B=function(e){var t=e.noticia;return Object(z.jsxs)(k.a,{sx:{maxWidth:200},children:[Object(z.jsxs)(q.a,{children:[Object(z.jsx)(C.a,{avatar:Object(z.jsx)(S.a,{sx:{bgcolor:M.a[500]},"aria-label":"recipe",children:"R"}),title:t.titulo,subheader:t.date}),Object(z.jsx)(A.a,{component:"img",height:"140",image:t.imagen,alt:t.imagen}),Object(z.jsx)(R.a,{children:Object(z.jsx)(_.a,{sx:{height:"35px"},style:{overflow:"hidden"},children:Object(z.jsx)(E.a,{variant:"body2",children:t.descripcion})})})]}),Object(z.jsxs)(J.a,{children:[Object(z.jsx)(L.a,{"aria-label":"add to favorites",children:Object(z.jsx)(W.a,{})}),Object(z.jsx)(_.a,{sx:{height:"35px"},style:{overflow:"hidden"},children:Object(z.jsx)(E.a,{variant:"body2",children:t.likes})})]})]})},F=n(231),G=n(240),H=n(164),I=n.n(H),N=n(162);function T(){var e=Object(o.f)(),t=Object(s.useState)([]),n=Object(i.a)(t,2),a=n[0],O=n[1],g=Object(s.useState)(""),k=Object(i.a)(g,2),q=k[0],C=k[1],S=Object(s.useState)(1),A=Object(i.a)(S,2),R=A[0],E=A[1],J=(Object(w.c)((function(e){return e.AuthReducer.user})),function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(v.a).remove(q,0,3);case 2:window.location.reload(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L=(Object(s.useCallback)(Object(r.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log({query:q}),e.next=3,y(v.a).get(q,R,3);case 3:if(t=(t=e.sent).data.noticias,0!=(n=a.concat(t.docs)).length||0!=q.length){e.next=11;break}return e.next=9,y(v.a).create();case 9:alert("Hemos creado noticias"),window.location.reload(!1);case 11:O(n);case 12:case"end":return e.stop()}}),e)}))),[R]),function(){var e=Object(r.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R+1,E(R+1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(s.useEffect)((function(){console.log({query:q}),y(v.a).get(q,1,3).then((function(e){O(e.data.noticias.docs),E(1)}))}),[q]),Object(z.jsxs)(l.a.Fragment,{children:[Object(z.jsx)(d.a,{}),Object(z.jsxs)(F.a,{fixed:!0,children:[Object(z.jsxs)(x.a,{square:!0,sx:{pb:"50px"},children:[Object(z.jsx)(f.a,{style:{marginTop:"20px"},onChange:function(e){C(e.target.value)},placeholder:"Enter username",fullWidth:!0,required:!0,variant:"standard"}),Object(z.jsx)(N.a,{dataLength:a.length,next:L,hasMore:!0,loader:Object(z.jsx)("h4",{children:"Cargando..."}),endMessage:Object(z.jsx)("p",{style:{textAlign:"center"},children:Object(z.jsx)("b",{children:"No hay m\xe1s noticias"})}),children:Object(z.jsx)(G.a,{container:!0,spacing:4,children:a.map((function(e){return Object(z.jsx)(G.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(z.jsx)(B,{noticia:e})},e._id)}))})})]}),Object(z.jsx)(u.a,{position:"fixed",color:"primary",sx:{top:"auto",bottom:0},children:Object(z.jsxs)(h.a,{children:[Object(z.jsx)(b.a,{color:"inherit","aria-label":"open drawer",children:Object(z.jsx)(p.a,{})}),Object(z.jsx)(j.a,{sx:{flexGrow:1}}),Object(z.jsx)(b.a,{color:"inherit",onClick:J,children:Object(z.jsx)(I.a,{})}),Object(z.jsx)(b.a,{onClick:function(){e("/login")},color:"inherit",children:Object(z.jsx)(m.a,{})})]})})]})]})}},64:function(e,t,n){"use strict";var a=n(77),c=n.n(a),r="localhost"===window.location.hostname?"http://localhost:4000/api":"https://audit.micolevirtual.com/audit7-laravel/api",i=c.a.create({baseURL:r});i.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer "+t),e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),t.a=i}}]);
//# sourceMappingURL=6.567fb724.chunk.js.map